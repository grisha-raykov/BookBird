{% extends "base.html" %}
{% load i18n %}
{% load static %}

{% block title %}{{ title }}{% endblock %}

{% block content %}
<div class="container my-4">

    <div class="jumbotron bg-light p-5 rounded">
        <h1 class="display-4">{{ title }}</h1>
        <p class="lead">{% trans "Your gateway to speculative fiction literature" %}</p>
        <hr class="my-4">
        <p>
            {% blocktranslate with author_count=author_count title_count=title_count %}
            Discover {{ author_count }} authors and {{ title_count }} titles in our database.
            {% endblocktranslate %}
        </p>
    </div>

    <div class="row mt-4">
        <div class="col-md-6">
            <h2>{% trans "Popular Authors" %}</h2>
            <div class="list-group">
                {% for author in popular_authors %}
                    <a href="{% url 'authors:detail' author.pk %}" 
                       class="list-group-item list-group-item-action d-flex justify-content-between align-items-center">
                        {{ author.canonical_name }}
                        <span class="badge bg-primary rounded-pill">{{ author.views }}</span>
                    </a>
                {% empty %}
                    <p>{% trans "No authors found." %}</p>
                {% endfor %}
            </div>
            <div class="mt-3">
                <a href="{% url 'authors:list' %}" class="btn btn-primary">
                    {% trans "View All Authors" %}
                </a>
            </div>
        </div>

        <div class="col-md-6">
            <h2>{% trans "Recent Titles" %}</h2>
            <div class="list-group">
                {% for title in recent_titles %}
                    <a href="#" class="list-group-item list-group-item-action">
                        {{ title.title }}
                        {% if title.first_pub_date %}
                            <small class="text-muted d-block">
                                {{ title.first_pub_date }}
                            </small>
                        {% endif %}
                    </a>
                {% empty %}
                    <p>{% trans "No titles found." %}</p>
                {% endfor %}
            </div>
        </div>
    </div>
</div>
{% endblock %}